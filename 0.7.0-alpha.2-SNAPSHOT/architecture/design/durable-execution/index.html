
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://dependencytrack.github.io/hyades/latest/0.7.0-alpha.2-SNAPSHOT/architecture/design/durable-execution/">
      
      
        <link rel="prev" href="../../decisions/013-finding-status/">
      
      
        <link rel="next" href="../notifications/">
      
      
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.1">
    
    
      
        <title>Durable Execution - Hyades</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.484c7ddc.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  
<meta property="og:type" content="website" />
<meta property="og:title" content="Durable Execution - Hyades" />
<meta property="og:image" content="https://dependencytrack.github.io/hyades/latest/0.7.0-alpha.2-SNAPSHOT/assets/images/social/architecture/design/durable-execution.png" />
<meta property="og:image:type" content="image/png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:url" content="https://dependencytrack.github.io/hyades/latest/0.7.0-alpha.2-SNAPSHOT/architecture/design/durable-execution/" />
<meta property="twitter:card" content="summary_large_image" />
<meta property="twitter:title" content="Durable Execution - Hyades" />
<meta property="twitter:image" content="https://dependencytrack.github.io/hyades/latest/0.7.0-alpha.2-SNAPSHOT/assets/images/social/architecture/design/durable-execution.png" />
</head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Hyades" class="md-header__button md-logo" aria-label="Hyades" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Hyades
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Durable Execution
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/DependencyTrack/hyades" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    DependencyTrack/hyades
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
  
  Getting Started

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../usage/policy-compliance/overview/" class="md-tabs__link">
          
  
  
  Usage

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
  
  Architecture

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../operations/configuration/overview/" class="md-tabs__link">
          
  
  
  Operations

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../development/overview/" class="md-tabs__link">
          
  
  
  Development

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../reference/configuration/overview/" class="md-tabs__link">
          
  
  
  Reference

        </a>
      </li>
    
  

    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Hyades" class="md-nav__button md-logo" aria-label="Hyades" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Hyades
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/DependencyTrack/hyades" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    DependencyTrack/hyades
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Getting Started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Getting Started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/changes-over-v4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Changes over v4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/migrating-from-v4/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migrating from v4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getting-started/upgrading/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Upgrading
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Usage
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Usage
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Policy Compliance
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Policy Compliance
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/policy-compliance/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/policy-compliance/expressions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Expressions
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Notifications
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Notifications
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/notifications/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/notifications/publishers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Publishers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/notifications/templating/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Templating
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Secret Management
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Secret Management
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/secret-management/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/secret-management/providers/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Providers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Access Control
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Access Control
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../usage/access-control/roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Roles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    
  
    Architecture
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Architecture
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Decisions
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Decisions
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/000-index/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/001-drop-kafka-dependency/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-001: Drop Kafka Dependency
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/002-workflow-orchestration/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-002: Workflow Orchestration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/003-notification-publishing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-003: Notification Publishing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/004-file-storage-plugin/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-004: File Storage Plugin
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/005-materialize-project-hierarchies/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-005: Materialize Project Hierarchies
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/006-consolidate-user-tables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-006: Consolidate User Tables
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/007-spec-first-rest-api-v2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-007: Spec-First REST API v2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/009-auth-and-roles/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-009: Auth And Roles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/010-vulnerability-datasource-extension-point/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-010: Vulnerability Datasource Extension Point
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/011-notification-outbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-011: Notification Outbox
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/012-extension-kv-store/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-012: Extension KV Store
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../decisions/013-finding-status/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ADR-013: Finding Status
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Design
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Design
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Durable Execution
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Durable Execution
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#overview" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#core-concepts" class="md-nav__link">
    <span class="md-ellipsis">
      
        Core concepts
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Core concepts">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#durable-execution" class="md-nav__link">
    <span class="md-ellipsis">
      
        Durable Execution
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#workflow-instance" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow Instance
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Workflow Instance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#activity" class="md-nav__link">
    <span class="md-ellipsis">
      
        Activity
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#workflow-run" class="md-nav__link">
    <span class="md-ellipsis">
      
        Workflow run
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#timer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Timer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#external-event" class="md-nav__link">
    <span class="md-ellipsis">
      
        External Event
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task" class="md-nav__link">
    <span class="md-ellipsis">
      
        Task
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-queue" class="md-nav__link">
    <span class="md-ellipsis">
      
        Task queue
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-worker" class="md-nav__link">
    <span class="md-ellipsis">
      
        Task worker
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#execution-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Execution model
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#engine-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      
        Engine architecture
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Engine architecture">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#overview_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Overview
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#leader-election" class="md-nav__link">
    <span class="md-ellipsis">
      
        Leader election
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-scheduling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Task scheduling
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#task-processing" class="md-nav__link">
    <span class="md-ellipsis">
      
        Task processing
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#concurrency-control" class="md-nav__link">
    <span class="md-ellipsis">
      
        Concurrency Control
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#buffering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Buffering
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retry-and-failure-handling" class="md-nav__link">
    <span class="md-ellipsis">
      
        Retry and Failure Handling
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#noteworthy-design-decisions" class="md-nav__link">
    <span class="md-ellipsis">
      
        Noteworthy design decisions
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Noteworthy design decisions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#embedded" class="md-nav__link">
    <span class="md-ellipsis">
      
        Embedded
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#postgresql-only" class="md-nav__link">
    <span class="md-ellipsis">
      
        PostgreSQL Only
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#no-listen-notify" class="md-nav__link">
    <span class="md-ellipsis">
      
        No LISTEN / NOTIFY
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#protobuf-serialization" class="md-nav__link">
    <span class="md-ellipsis">
      
        Protobuf Serialization
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    <span class="md-ellipsis">
      
        References
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../notifications/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notifications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflow-state-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Workflow State Tracking
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Operations
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Operations
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/configuration/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/configuration/datasources/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Data Sources
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../operations/database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Development
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Development
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/building/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Building
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Testing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/database-migrations/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Database Migrations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/durable-execution/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Durable Execution
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../development/documentation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Documentation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reference
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reference
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_1" >
        
          
          <label class="md-nav__link" for="__nav_6_1" id="__nav_6_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/configuration/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/configuration/api-server/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    API Server
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/configuration/repo-meta-analyzer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Repository Metadata Analyzer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6_2" >
        
          
          <label class="md-nav__link" for="__nav_6_2" id="__nav_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Schemas
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Schemas
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/schemas/notification/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/schemas/policy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Policy
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/topics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Topics
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
    <a href="https://github.com/DependencyTrack/hyades/blob/main/docs/architecture/design/durable-execution.md" title="Edit this page" class="md-content__button md-icon" rel="edit">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg>
    </a>
  
  


  <h1>Durable Execution</h1>

<h2 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">&para;</a></h2>
<p>dex is an embedded <a href="#durable-execution"><strong>d</strong>urable <strong>ex</strong>ecution</a> engine that provides reliable,
scalable execution of potentially long-running processes.</p>
<p>The engine is influenced by <a href="https://temporal.io/">Temporal</a> and Microsoft's <a href="https://github.com/Azure/durabletask">Durable Task Framework</a>.
It is purpose-built for Dependency-Track's requirements, and optimized for PostgreSQL.</p>
<h2 id="core-concepts">Core concepts<a class="headerlink" href="#core-concepts" title="Permanent link">&para;</a></h2>
<h3 id="durable-execution">Durable Execution<a class="headerlink" href="#durable-execution" title="Permanent link">&para;</a></h3>
<p>Durable execution is a programming model where the state and progress of (potentially long-running)
processes is automatically persisted, enabling them to survive failures and restarts.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Because dex is heavily influenced by <a href="https://temporal.io/">Temporal</a>, it has adopted most of its concepts and wording.
Some concepts may have different names in other engines, e.g. Durable Task uses <em>orchestration</em>
instead of <em>workflow</em>.</p>
</div>
<p>Like <a href="https://temporal.io/">Temporal</a>, dex records every completed step of a <a href="#workflow">workflow</a> as an event in the database.
If a process crashes or is restarted, the workflow automatically resumes from where it left off
by replaying its event history. This makes workflows resilient without requiring manual
work to implement state management or retry logic.</p>
<p>Durable execution ensures that once a workflow is started, it will run to completion,
even when experiencing repeated transient failures.</p>
<h3 id="workflow">Workflow<a class="headerlink" href="#workflow" title="Permanent link">&para;</a></h3>
<p>A workflow is the formal description of a sequence of steps to execute.
Workflows are defined as normal Java code, but must be <em>deterministic and free of side effects</em>
to enable reliable history replay. Their sole purpose is orchestration: sequencing and
coordinating work, not performing it directly.</p>
<p>Workflows can invoke <a href="#activity">activities</a>, create <a href="#timer">timers</a>, spawn child workflows,
and wait for <a href="#external-event">external events</a>.</p>
<h2 id="workflow-instance">Workflow Instance<a class="headerlink" href="#workflow-instance" title="Permanent link">&para;</a></h2>
<p>A workflow instance is a specific instantiation of a <a href="#workflow">workflow</a>.</p>
<p>Instances can be executed multiple times, but only a single execution
in non-terminal state can exist at any given point in time.</p>
<p>In dex, instances are identified by an <em>instance ID</em>, which is defined by clients when starting a workflow.</p>
<h3 id="activity">Activity<a class="headerlink" href="#activity" title="Permanent link">&para;</a></h3>
<p>An activity is the formal description of a non-deterministic operation. It is where interactions with
external systems, and more generally I/O, is intended to happen.</p>
<p>Execution of activities happens asynchronously from their "owning" workflow's execution, making it non-blocking.</p>
<p>In practice, activity invocations behave similar to conventional background jobs.</p>
<p>Activities are anticipated to fail, and will be transparently retried. Retry behaviour is
customizable using retry policies, on a per-invocation basis. Because activities may be executed
multiple times as part of the retry mechanism, they should be <a href="https://en.wikipedia.org/wiki/Idempotence#Computer_science_meaning">idempotent</a>.</p>
<h3 id="workflow-run">Workflow run<a class="headerlink" href="#workflow-run" title="Permanent link">&para;</a></h3>
<p>A workflow run is a single execution of a workflow. Each run has a unique identifier
and maintains a complete event history. The history enables replay for recovery
and ensures deterministic behaviour.</p>
<p>Runs can carry the following additional metadata:</p>
<ul>
<li><strong>Concurrency Key</strong>: Serializes execution of runs sharing the same key.</li>
<li><strong>Priority</strong>: Influences execution order (higher priority runs execute first).</li>
<li><strong>Labels</strong>: Custom key-value metadata.</li>
</ul>
<h3 id="timer">Timer<a class="headerlink" href="#timer" title="Permanent link">&para;</a></h3>
<p>A timer provides durable delays within a workflow execution.</p>
<p>Unlike regular sleeps, timers are recorded in the workflow run's event history,
making them deterministic and replay-safe.</p>
<h3 id="external-event">External Event<a class="headerlink" href="#external-event" title="Permanent link">&para;</a></h3>
<p>An external event is a message sent to a workflow run from outside the dex engine.</p>
<p>External events enable workflows to pause and wait for signals from external systems or users,
such as approval notifications, webhook callbacks, or status updates. Each event has a unique
identifier and can carry optional payload data.</p>
<h3 id="task">Task<a class="headerlink" href="#task" title="Permanent link">&para;</a></h3>
<p>A task is a unit of work generated by the dex engine to drive progress of either
a <a href="#workflow-run">workflow run</a> or an <a href="#activity">activity</a>.</p>
<p>Tasks are scheduled for execution on <a href="#task-queue">task queues</a>,
from where they're picked up by <a href="#task-worker">task workers</a>.</p>
<h3 id="task-queue">Task queue<a class="headerlink" href="#task-queue" title="Permanent link">&para;</a></h3>
<p>A task queue is a named queue where <a href="#task">tasks</a> are scheduled for execution.</p>
<p>Task queues organize and distribute work to <a href="#task-worker">workers</a>. Each queue has a type (<em>workflow</em> or <em>activity</em>)
and tracks its capacity and current depth (i.e. number of pending tasks). Workflows and activities
specify which queue their tasks should be routed to.</p>
<p>Queues enable separation of concerns, allowing different workers to specialize in different
types of work and providing resource isolation between workloads.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In dex, queues further act as a means to scale, as each task queue
is stored in a separate physical table <a href="https://www.postgresql.org/docs/current/ddl-partitioning.html#DDL-PARTITIONING-OVERVIEW">partition</a>.</p>
</div>
<p>The capacity of a queue is modifiable at runtime, allowing administrators to throttle
task execution globally for an entire cluster. It is further possible to <em>pause</em> queues entirely.</p>
<h3 id="task-worker">Task worker<a class="headerlink" href="#task-worker" title="Permanent link">&para;</a></h3>
<p>A task worker polls tasks from a queue and executes them. Workers process either
workflow tasks or activity tasks, but not both. Each worker polls from <em>exactly one</em> queue.</p>
<h2 id="execution-model">Execution model<a class="headerlink" href="#execution-model" title="Permanent link">&para;</a></h2>
<p>dex uses event sourcing to provide durability. When a workflow executes,
the engine records events for each completed step. If execution is interrupted,
the workflow resumes by replaying the recorded history.</p>
<pre class="mermaid"><code>---
title: Example workflow execution
---
sequenceDiagram
    participant W as Workflow worker
    participant C as Workflow code
    participant H as Event history
    participant A as Activity worker

    W -&gt;&gt; H: Load history
    H --&gt;&gt; W: Events
    W -&gt;&gt; C: Execute
    Note over C: Reconstruct state&lt;br/&gt;from history
    C -&gt;&gt; C: activity(Foo).call()
    Note over C: Event exists,&lt;br/&gt;return cached result
    C -&gt;&gt; C: activity(Bar).call()
    Note over C: No event,&lt;br/&gt;schedule activity
    C --&gt;&gt; W: Blocked on activity
    W -&gt;&gt; H: Record ActivityTaskCreated event

    A -&gt;&gt; A: Execute Bar activity
    A -&gt;&gt; H: Record ActivityTaskCompleted event

    W -&gt;&gt; H: Load history
    W -&gt;&gt; C: Execute
    Note over C: Replay Foo and Bar&lt;br/&gt;from history
    C --&gt;&gt; W: Workflow complete
    W -&gt;&gt; H: Record RunCompleted event</code></pre>
<p>During replay, the workflow code re-executes, but side effects are skipped.
Results of previously completed steps are retrieved from the history instead.
This requires workflow code to be deterministic. Given the same history,
it must make the same decisions.</p>
<p>This model also enables high degrees of concurrency. When a workflow blocks waiting for an
activity, timer, or external event, it yields control back to the engine. The
engine can then progress other workflows while the blocked one waits. This allows
a single worker to manage many concurrent workflow runs without dedicating a
thread to each one.</p>
<h2 id="engine-architecture">Engine architecture<a class="headerlink" href="#engine-architecture" title="Permanent link">&para;</a></h2>
<h3 id="overview_1">Overview<a class="headerlink" href="#overview_1" title="Permanent link">&para;</a></h3>
<p>dex consists of the following components:</p>
<ul>
<li><strong>Workflow task scheduler</strong>: Creates workflow tasks from eligible workflow runs.</li>
<li><strong>Activity task scheduler</strong>: Transitions activity tasks to queued status.</li>
<li><strong>Workflow task worker</strong>: Executes workflow code with history replay.</li>
<li><strong>Activity task worker</strong>: Executes activity code.</li>
<li><strong>Maintenance worker</strong>: Enforces retention by deleting old completed runs.</li>
<li><strong>Leader election</strong>: Coordinates single-instance operations in a cluster.</li>
</ul>
<pre class="mermaid"><code>---
title: Architecture overview
---
flowchart TB
    subgraph Dependency-Track
      subgraph Application
          W["Workflow code"]
          A["Activity code"]
      end

      subgraph dex
          subgraph Schedulers["Schedulers (leader only)"]
              WS["Workflow task scheduler"]
              AS["Activity task scheduler"]
          end

          LE["Leader election"]

          subgraph Workers
              WW["Workflow worker"]
              AW["Activity worker"]
          end
      end
    end

    subgraph Database
        L[("Leases")]
        R[("Workflow Runs")]
        H[("Workflow Run History")]
        WT[("Workflow tasks")]
        AT[("Activity tasks")]
    end

    W --&gt; WW
    A --&gt; AW
    LE --&gt; L
    WS --&gt; R
    WS --&gt; WT
    AS --&gt; AT
    WW --&gt; WT
    WW --&gt; R
    WW --&gt; H
    AW --&gt; AT
    AW --&gt; H</code></pre>
<p>By default, dex uses the same database as the main Dependency-Track application for simplicity.
For larger deployments, it can be configured to use a separate database instance
to isolate engine load from application concerns.</p>
<h3 id="leader-election">Leader election<a class="headerlink" href="#leader-election" title="Permanent link">&para;</a></h3>
<p>Certain operations are intended to only be performed by a single node in a cluster. For example:</p>
<ul>
<li>Maintenance</li>
<li>Task scheduling</li>
</ul>
<p>dex utilises a simple lease-based leader election mechanism that is backed
by the <code>dex_lease</code> table with the following schema:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Column</th>
<th style="text-align: left;">Type</th>
<th style="text-align: left;">Constraints</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">name</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">pk</td>
</tr>
<tr>
<td style="text-align: left;">acquired_by</td>
<td style="text-align: left;">text</td>
<td style="text-align: left;">not null</td>
</tr>
<tr>
<td style="text-align: left;">acquired_at</td>
<td style="text-align: left;">timestamptz(3)</td>
<td style="text-align: left;">not null</td>
</tr>
<tr>
<td style="text-align: left;">expires_at</td>
<td style="text-align: left;">timestamptz(3)</td>
<td style="text-align: left;">not null</td>
</tr>
</tbody>
</table>
<p>Every node in the cluster will regularly (default: 15s) try to acquire the leadership lease
for a given period of time (default: 30s). This design is inspired by Kubernetes controllers.</p>
<p>A lease is acquired by inserting into the <code>dex_lease</code> table. Concurrency-safe conflict
resolution is performed using PostgreSQL's
<a href="https://www.postgresql.org/docs/current/sql-insert.html#SQL-ON-CONFLICT"><code>on conflict</code></a> mechanism:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="k">insert</span><span class="w"> </span><span class="k">into</span><span class="w"> </span><span class="n">dex_lease</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="w"> </span><span class="n">acquired_by</span><span class="p">,</span><span class="w"> </span><span class="n">acquired_at</span><span class="p">,</span><span class="w"> </span><span class="n">expires_at</span><span class="p">)</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="k">values</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;leadership&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;instanceA&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">now</span><span class="p">(),</span><span class="w"> </span><span class="n">now</span><span class="p">()</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">interval</span><span class="w"> </span><span class="s1">&#39;30 seconds&#39;</span><span class="p">)</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="k">on</span><span class="w"> </span><span class="n">conflict</span><span class="w"> </span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="w"> </span><span class="k">do</span><span class="w"> </span><span class="k">update</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="k">set</span><span class="w"> </span><span class="n">acquired_by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">excluded</span><span class="p">.</span><span class="n">acquired_by</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="n">acquired_at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">excluded</span><span class="p">.</span><span class="n">acquired_at</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">  </span><span class="p">,</span><span class="w"> </span><span class="n">expires_at</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">excluded</span><span class="p">.</span><span class="n">expires_at</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="k">where</span><span class="w"> </span><span class="n">dex_lease</span><span class="p">.</span><span class="n">acquired_by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">excluded</span><span class="p">.</span><span class="n">acquired_by</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">   </span><span class="k">or</span><span class="w"> </span><span class="n">dex_lease</span><span class="p">.</span><span class="n">expires_at</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">now</span><span class="p">()</span>
</span></code></pre></div>
<p>The above query atomically creates or extends the lease for <code>instanceA</code>,
depending on whether the lease is still held by it, or the previous lease
has expired.</p>
<p>Nodes that fail to attempt lease acquisition, e.g. due to timeouts,
will assume their lease to be <em>lost</em>. This is to prevent the likelihood
of <a href="https://en.wikipedia.org/wiki/Split-brain_(computing)">split-brain</a>.
It should be noted though that the worst symptom of split-brain for dex
is an increase is potentially expensive operations. Correctness is not affected.</p>
<p>During graceful shutdown, nodes simply release their leadership lease:</p>
<div class="language-sql highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="k">delete</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">dex_lease</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;leadership&#39;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">   </span><span class="k">and</span><span class="w"> </span><span class="n">acquired_by</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;instanceA&#39;</span>
</span></code></pre></div>
<p>The <code>dex_lease</code> table is <a href="https://www.postgresql.org/docs/current/sql-createtable.html#SQL-CREATETABLE-UNLOGGED"><code>unlogged</code></a>
and thus does not cause WAL writes. This is possible because leases are ephemeral by design.</p>
<h3 id="task-scheduling">Task scheduling<a class="headerlink" href="#task-scheduling" title="Permanent link">&para;</a></h3>
<p>dex has two separate schedulers, both running on the leader node:</p>
<h4 id="workflow-task-scheduler">Workflow task scheduler<a class="headerlink" href="#workflow-task-scheduler" title="Permanent link">&para;</a></h4>
<p>Creates tasks from workflow runs.
It polls the <code>dex_workflow_run</code> table for workflow runs that:</p>
<ul>
<li>Are in a non-terminal state (<code>CREATED</code>, <code>RUNNING</code>, or <code>SUSPENDED</code>)</li>
<li>Have visible messages in their inbox (events waiting to be processed)</li>
<li>Don't already have a queued task</li>
</ul>
<p>For each eligible run, a task is inserted into the <code>dex_workflow_task</code> table.</p>
<h4 id="activity-task-scheduler">Activity task scheduler<a class="headerlink" href="#activity-task-scheduler" title="Permanent link">&para;</a></h4>
<p>Activity task scheduling works differently. Activity tasks are created by
workflow execution (when an activity is invoked), not by the scheduler.
The scheduler's role is to transition tasks from <code>CREATED</code> to <code>QUEUED</code> status,
making them visible to workers.</p>
<p>This two-phase approach exists because activity tasks have a <code>visible_from</code> timestamp
used for retry delays. A task in <code>CREATED</code> status with a future <code>visible_from</code> is
not yet eligible for execution. The scheduler polls for tasks where <code>visible_from &lt;= now()</code>
and transitions them to <code>QUEUED</code>.</p>
<h4 id="queue">Queue<a class="headerlink" href="#queue" title="Permanent link">&para;</a></h4>
<p>Each task queue is stored in a separate PostgreSQL table partition, created dynamically
when a new queue is registered. This provides isolation between workloads and allows
the database to manage each queue's data independently.</p>
<p>Queues have two properties that can be modified at runtime:</p>
<ul>
<li><strong>Capacity</strong>: The maximum number of pending tasks. The scheduler stops creating tasks
  when a queue reaches capacity, providing backpressure.</li>
<li><strong>Status</strong>: Queues can be paused, preventing any new tasks from being scheduled.</li>
</ul>
<p>Tasks are scheduled with a priority (0-100), inherited from their workflow run.
Higher priority tasks are processed first. Within the same priority, tasks are
processed in creation order.</p>
<h3 id="task-processing">Task processing<a class="headerlink" href="#task-processing" title="Permanent link">&para;</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>dex leverages Java's <a href="https://docs.oracle.com/en/java/javase/25/core/virtual-threads.html">virtual threads</a> for task execution, enabling high degrees
of concurrency while maintaining a slim resource footprint.</p>
</div>
<h4 id="workflow-tasks">Workflow tasks<a class="headerlink" href="#workflow-tasks" title="Permanent link">&para;</a></h4>
<p>The scheduler polls for eligible workflow runs and inserts tasks into the <code>dex_workflow_task</code> table.
Workers poll from this table, execute the workflow, and update run state and history.</p>
<pre class="mermaid"><code>---
title: Workflow task processing
---
sequenceDiagram
    participant S as Scheduler
    participant R as Runs
    participant T as Workflow tasks
    participant W as Worker
    participant H as History

    Note over S: Leader node only
    activate S
    S -&gt;&gt; R: Poll eligible runs
    R --&gt;&gt; S: Runs with pending events
    S -&gt;&gt; T: INSERT task
    deactivate S

    Note over W: All nodes
    activate W
    W -&gt;&gt; T: SELECT ... FOR UPDATE SKIP LOCKED
    T --&gt;&gt; W: Task
    W -&gt;&gt; W: Execute workflow (with replay)
    W -&gt;&gt; H: Append events
    W -&gt;&gt; R: Update run status
    W -&gt;&gt; T: DELETE task
    deactivate W</code></pre>
<h4 id="activity-tasks">Activity tasks<a class="headerlink" href="#activity-tasks" title="Permanent link">&para;</a></h4>
<p>Activity tasks are created by workflow execution, not the scheduler.
The scheduler transitions tasks from <code>CREATED</code> to <code>QUEUED</code> when their
<code>visible_from</code> timestamp has passed, making them visible to workers.</p>
<pre class="mermaid"><code>---
title: Activity task processing
---
sequenceDiagram
    participant S as Scheduler
    participant T as Activity tasks
    participant W as Worker
    participant H as History

    Note over S: Leader node only
    activate S
    S -&gt;&gt; T: Poll CREATED tasks where visible_from &lt;= now()
    S -&gt;&gt; T: UPDATE status  QUEUED
    deactivate S

    Note over W: All nodes
    activate W
    W -&gt;&gt; T: SELECT ... FOR UPDATE SKIP LOCKED
    T --&gt;&gt; W: Task
    W -&gt;&gt; W: Execute activity
    W -&gt;&gt; H: Record result
    W -&gt;&gt; T: DELETE task
    deactivate W</code></pre>
<p>Because the scheduler and workers poll the same table, the scheduler uses
<code>FOR NO KEY UPDATE SKIP LOCKED</code> when transitioning tasks to avoid deadlocks.</p>
<h3 id="concurrency-control">Concurrency Control<a class="headerlink" href="#concurrency-control" title="Permanent link">&para;</a></h3>
<p>Task execution concurrency can be controlled at two levels:</p>
<h4 id="local">Local<a class="headerlink" href="#local" title="Permanent link">&para;</a></h4>
<p>Each worker limits how many tasks it executes concurrently using a <a href="https://docs.oracle.com/en/java/javase/25/docs/api//java.base/java/util/concurrent/Semaphore.html">Semaphore</a>.
The worker only polls for as many tasks as it has available permits, preventing
it from claiming more work than it can handle.</p>
<p>This controls the parallelism of task execution on a single node. Setting a lower
value reduces resource consumption but may increase latency. Setting a higher value
allows more throughput but increases memory and CPU usage.</p>
<h4 id="global">Global<a class="headerlink" href="#global" title="Permanent link">&para;</a></h4>
<p>Task queue capacity limits how many tasks can be pending across the entire cluster.
When a queue reaches capacity, the scheduler stops creating new tasks for that queue,
providing backpressure to the system.</p>
<p>This prevents unbounded queue growth during load spikes. Workflow runs remain in
their current state until capacity becomes available, at which point the scheduler
resumes creating tasks for them.</p>
<p>Local and global concurrency control complement each other.
Queue capacity controls how much work is queued,
while worker concurrency controls how fast that work is processed.</p>
<h3 id="buffering">Buffering<a class="headerlink" href="#buffering" title="Permanent link">&para;</a></h3>
<p>In contrast to most other durable execution and workflow engines, dex buffers certain write
operations, and flushes them to the database in batches. This is done to reduce network round-trips
between dex and its database, and amortize transaction overhead.</p>
<p>A property that all durable execution engines share, is that there is always a time window
between an action (e.g. issuing a HTTP request) having been <em>performed</em>, and its outcome having
been <em>recorded</em> (e.g. by writing it to a database). If recording the outcome fails,
the engine has to assume that the action itself has never happened. There is no way to make this atomic.
This is one reason why actions should be <a href="https://en.wikipedia.org/wiki/Idempotence#Computer_science_meaning">idempotent</a>, making them safe to execute multiple times.
dex takes advantage of this inherent risk, and utilises buffering in exactly that time window.</p>
<p>When flushing buffers, dex leverages
<a href="https://www.tigerdata.com/blog/boosting-postgres-insert-performance">Postgres-specific optimizations</a>
to further reduce the amount of time spent <em>in the database</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This is a trade-off that values throughput over latency, and efficiency over correctness:</p>
<ul>
<li>While throughput is improved, buffering <em>does</em> negatively impact end-to-end latency.</li>
<li>Flushing writes in batches comes with the risk of an increased blast radius in case of failures.</li>
</ul>
</div>
<p>Dependency-Track is not a latency-sensitive system. It is generally acceptable to wait
a few seconds for a workflow to complete. It is much more important that the database is
not hammered with many tiny transactions that spike CPU and I/O utilization.</p>
<p>PostgreSQL is not infinitely scalable, but by designing a system optimized for throughput
and efficiency, our scaling ceiling is much higher.</p>
<p>Three operations are buffered independently:</p>
<ul>
<li><strong>Activity task heartbeats</strong>: Heartbeats from long-running activity tasks.</li>
<li><strong>External events</strong>: Messages sent to workflow runs from outside the engine.</li>
<li><strong>Task events</strong>: Results of workflow and activity task execution.</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Flush intervals and batch sizes of buffers are configurable:</p>
<ul>
<li><a href="../../../reference/configuration/api-server/#dtdex-engineactivity-task-heartbeat-bufferflush-interval-ms"><code>dt.dex-engine.activity-task-heartbeat-buffer.flush-interval-ms</code></a></li>
<li><a href="../../../reference/configuration/api-server/#dtdex-engineactivity-task-heartbeat-buffermax-batch-size"><code>dt.dex-engine.activity-task-heartbeat-buffer.max-batch-size</code></a></li>
<li><a href="../../../reference/configuration/api-server/#dtdex-engineexternal-event-bufferflush-interval-ms"><code>dt.dex-engine.external-event-buffer.flush-interval-ms</code></a></li>
<li><a href="../../../reference/configuration/api-server/#dtdex-engineexternal-event-buffermax-batch-size"><code>dt.dex-engine.external-event-buffer.max-batch-size</code></a></li>
<li><a href="../../../reference/configuration/api-server/#dtdex-enginetask-event-bufferflush-interval-ms"><code>dt.dex-engine.task-event-buffer.flush-interval-ms</code></a></li>
<li><a href="../../../reference/configuration/api-server/#dtdex-enginetask-event-buffermax-batch-size"><code>dt.dex-engine.task-event-buffer.max-batch-size</code></a></li>
</ul>
<p>Users who care more about latency are free to decrease intervals, at the cost of higher database utilization.</p>
</div>
<h2 id="retry-and-failure-handling">Retry and Failure Handling<a class="headerlink" href="#retry-and-failure-handling" title="Permanent link">&para;</a></h2>
<p>As noted in <a href="#activity">Activity</a>, activities are automatically retried on failure.
The retry behavior is controlled by a configurable policy:</p>
<table>
<thead>
<tr>
<th style="text-align: left;">Parameter</th>
<th style="text-align: left;">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;">Initial Delay</td>
<td style="text-align: left;">Delay before first retry</td>
</tr>
<tr>
<td style="text-align: left;">Delay Multiplier</td>
<td style="text-align: left;">Exponential backoff factor</td>
</tr>
<tr>
<td style="text-align: left;">Randomization Factor</td>
<td style="text-align: left;">Jitter to prevent thundering herd</td>
</tr>
<tr>
<td style="text-align: left;">Max Delay</td>
<td style="text-align: left;">Upper bound on retry delay</td>
</tr>
<tr>
<td style="text-align: left;">Max Attempts</td>
<td style="text-align: left;">Maximum number of attempts</td>
</tr>
</tbody>
</table>
<p>Retries are scheduled by updating the task's <code>visible_from</code> timestamp,
making it invisible to workers until the retry delay has elapsed.</p>
<p>Failures are classified as either terminal or retryable:</p>
<ul>
<li><strong>Terminal failures</strong> stop retries immediately.</li>
<li><strong>Retryable failures</strong> trigger the retry mechanism.</li>
</ul>
<h2 id="noteworthy-design-decisions">Noteworthy design decisions<a class="headerlink" href="#noteworthy-design-decisions" title="Permanent link">&para;</a></h2>
<h3 id="embedded">Embedded<a class="headerlink" href="#embedded" title="Permanent link">&para;</a></h3>
<p>Not requiring an external service simplifies operations due to fewer moving parts.
Testing and debugging becomes easier for the same reason.</p>
<p>Embedding the engine in the application further avoids network and serialization
overhead during task distribution, since workers can poll the database directly.</p>
<h3 id="postgresql-only">PostgreSQL Only<a class="headerlink" href="#postgresql-only" title="Permanent link">&para;</a></h3>
<p>Following the direction of the main Dependency-Track application, dex only supports PostgreSQL.
This allows for more optimization techniques, easier testing / debugging, and less operational
overhead for users.</p>
<h3 id="no-listen-notify">No <code>LISTEN</code> / <code>NOTIFY</code><a class="headerlink" href="#no-listen-notify" title="Permanent link">&para;</a></h3>
<p>Many queueing systems based on PostgreSQL utilize the <a href="https://www.postgresql.org/docs/current/sql-notify.html"><code>LISTEN</code> / <code>NOTIFY</code></a>
feature to reduce latencies, e.g. by emitting a notification whenever a new task has been scheduled for execution.</p>
<p>This was explored for dex as well, but ultimately discarded, because:</p>
<ul>
<li><code>LISTEN</code> requires a persistent, direct connection to the database, which does not play well with connection poolers.</li>
<li>
<blockquote>
<p>When a NOTIFY query is issued during a transaction, it acquires a global lock on the entire database
[...] during the commit phase of the transaction, effectively serializing all commits.
(<a href="https://www.recall.ai/blog/postgres-listen-notify-does-not-scale">Source</a>)</p>
</blockquote>
</li>
</ul>
<p>Instead, dex entirely relies on polling.</p>
<h3 id="protobuf-serialization">Protobuf Serialization<a class="headerlink" href="#protobuf-serialization" title="Permanent link">&para;</a></h3>
<p>Workflow events, as well as workflow and activity arguments and results, leverage Protobuf for serialization.
Protobuf is fast and efficient, and serialized messages are smaller than their JSON counterparts.</p>
<p>The tooling around Protobuf is excellent. With <a href="https://buf.build/"><code>buf</code></a>, we have linting and breaking
change detection covered.</p>
<p>This decision comes with the drawback of events and payloads not being human-readable when
manually inspecting database tables.</p>
<h2 id="references">References<a class="headerlink" href="#references" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="../../decisions/002-workflow-orchestration/">ADR-002: Workflow Orchestration</a></li>
<li><a href="https://temporal.io/">Temporal</a></li>
<li><a href="https://github.com/Azure/durabletask">Durable Task Framework</a></li>
</ul>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://dependencytrack.org/slack" target="_blank" rel="noopener" title="dependencytrack.org" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M94.1 315.1c0 25.9-21.2 47.1-47.1 47.1S0 341 0 315.1 21.2 268 47.1 268h47.1v47.1zm23.7 0c0-25.9 21.2-47.1 47.1-47.1s47.1 21.2 47.1 47.1v117.8c0 25.9-21.2 47.1-47.1 47.1s-47.1-21.2-47.1-47.1zm47.1-189c-25.9 0-47.1-21.2-47.1-47.1s21.2-47 47.1-47S212 53.2 212 79.1v47.1h-47.1zm0 23.7c25.9 0 47.1 21.2 47.1 47.1S190.8 244 164.9 244H47.1C21.2 244 0 222.8 0 196.9s21.2-47.1 47.1-47.1zm189 47.1c0-25.9 21.2-47.1 47.1-47.1s47 21.2 47 47.1-21.2 47.1-47.1 47.1h-47.1v-47.1zm-23.7 0c0 25.9-21.2 47.1-47.1 47.1S236 222.8 236 196.9V79.1c0-25.9 21.2-47.1 47.1-47.1s47.1 21.2 47.1 47.1zm-47.1 189c25.9 0 47.1 21.2 47.1 47.1s-21.2 47-47.1 47-47.1-21.2-47.1-47.1v-47.1h47.1zm0-23.7c-25.9 0-47.1-21.2-47.1-47.1s21.2-47.1 47.1-47.1h117.8c25.9 0 47.1 21.2 47.1 47.1s-21.2 47.1-47.1 47.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/DependencyTrack" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://hub.docker.com/u/dependencytrack" target="_blank" rel="noopener" title="hub.docker.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M349.9 236.3h-66.1v-59.4h66.1zm0-204.3h-66.1v60.7h66.1zm78.2 144.8H362v59.4h66.1zm-156.3-72.1h-66.1v60.1h66.1zm78.1 0h-66.1v60.1h66.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1zm78.1 0h-66.1v59.4h66.1zm-78.1-72.1h-66.1v60.1h66.1z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://twitter.com/DependencyTrack" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M459.4 151.7c.3 4.5.3 9.1.3 13.6 0 138.7-105.6 298.6-298.6 298.6-59.5 0-114.7-17.2-161.1-47.1 8.4 1 16.6 1.3 25.3 1.3 49.1 0 94.2-16.6 130.3-44.8-46.1-1-84.8-31.2-98.1-72.8 6.5 1 13 1.6 19.8 1.6 9.4 0 18.8-1.3 27.6-3.6-48.1-9.7-84.1-52-84.1-103v-1.3c14 7.8 30.2 12.7 47.4 13.3-28.3-18.8-46.8-51-46.8-87.4 0-19.5 5.2-37.4 14.3-53C87.4 130.8 165 172.4 252.1 176.9c-1.6-7.8-2.6-15.9-2.6-24C249.5 95.1 296.3 48 354.4 48c30.2 0 57.5 12.7 76.7 33.1 23.7-4.5 46.5-13.3 66.6-25.3-7.8 24.4-24.4 44.8-46.1 57.8 21.1-2.3 41.6-8.1 60.4-16.2-14.3 20.8-32.2 39.3-52.6 54.3"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "../../..", "features": ["content.action.edit", "content.code.copy", "content.code.select", "navigation.instant", "navigation.tracking", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "search.highlight", "search.share", "toc.integrate"], "search": "../../../assets/javascripts/workers/search.2c215733.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.79ae519e.min.js"></script>
      
    
  </body>
</html>