package org.dependencytrack.config;

import io.smallrye.config.ConfigMapping;
import io.smallrye.config.WithDefault;

import java.time.Duration;
import java.util.List;
import java.util.Optional;

@ConfigMapping(prefix = "scanner.ossindex")
public interface OssIndexConfig {

    boolean enabled();

    int topicPartitions();

    ApiConfig api();

    Duration batchInterval();

    CircuitBreakerConfig circuitBreaker();

    @WithDefault("128")
    int batchSize();

    @WithDefault("false")
    boolean aliasSyncEnabled();

    List<String> inputPackageUrls();

    List<String> customPackageUrlsSupported();


    RetryConfig retry();

    interface ApiConfig {

        Optional</* @URL */ String> baseurl();

        Optional<String> username();

        Optional<String> token();

    }

}
