package org.hyades.config;

import io.smallrye.config.ConfigMapping;
import org.hyades.client.snyk.SeveritySource;
import org.hibernate.validator.constraints.URL;

import java.util.List;
import java.util.Optional;

@ConfigMapping(prefix = "scanner.snyk")
public interface SnykConfig {

    boolean enabled();

    ApiConfig api();

    SeveritySource severitySource();

    CircuitBreakerConfig circuitBreaker();

    RetryConfig retry();

    interface ApiConfig {

        Optional<@URL String> baseUrl();

        Optional<String> orgId();

        Optional<List<String>> tokens();

        Optional<String> version();

    }

}
